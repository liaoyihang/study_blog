---
title: 图片懒加载
titleTemplate: 性能优化
---
# 图片懒加载
图片懒加载是一种针对图片资源的性能方案
## 什么是图片懒加载？
懒加载的***本质***是将渲染的时间从首屏加载延迟到了用户使用中，***原理***是通过监听用户的浏览行为，即滚动条事件，当用户滚动到资源出现在可视区域内时，再进行资源的加载。
>常用的API：
>1. 使用 img 标签中的 loading 属性
>2. 使用 Intersection Observer API
>3. 使用 getBoundingClientRect 方法
## 图片懒加载的作用
1. 可以减少首屏加载时间，优化**用户体验**；
2. 其次可以减少不必要的**性能开销**，通过资源懒加载优化系统资源使用，这在内存以及处理能力较低的移动设备上效果比较好。
## 图片懒加载需要注意的点
1. 加载一些不明确规格的图片资源时，比如第三方或者未知来源的资源，必然要在图片展示上设置一些参数，并在**容器大小**和**清晰度**之间做出**权衡**
2. 同时，图片资源也可能加载失败，需要对其进行**容错处理**，例如使用默认占位图片
3. **用户的行为**也是不可控的，如果滚动条速度过快，会导致渲染跟不上
4. 另外，js层面的监听滚动条事件触发的非常频繁，读取元素宽高等布局属性会引起**回流重绘**，也会在用户使用过程对性能产生一定程度的影响